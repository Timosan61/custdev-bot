# Правила для Claude при работе с проектом custdev-bot

## Общие правила
1. **Язык общения**: Всегда отвечать на русском языке
2. **Перезапуск бота**: После любых изменений в коде бота автоматически перезапускать его командой:
   ```bash
   cd /home/coder/Desktop/2202/Cusdev2.0/custdev-bot && python3 -m src.main
   ```

## Структура проекта
- `src/` - основной код бота
  - `agents/` - агенты для исследователей и респондентов
  - `bot/` - обработчики и middleware
  - `services/` - сервисы (Supabase, Zep, Voice)
  - `state/` - FSM состояния
  - `utils/` - утилиты и клавиатуры
  - `prompts/` - шаблоны промптов

## API ключи
Все ключи хранятся в `.env` файле:
- TELEGRAM_BOT_TOKEN
- OPENAI_API_KEY
- SUPABASE_URL
- SUPABASE_KEY
- ZEP_API_KEY

## Основные команды
- Запуск бота: `python3 -m src.main`
- Установка зависимостей: `pip install -r requirements.txt`
- Проверка логов: бот использует loguru для логирования

## Особенности реализации
- Голосовые сообщения обрабатываются через OpenAI Whisper
- Контекст диалогов хранится в Zep Cloud
- Данные интервью сохраняются в Supabase
- FSM для управления состояниями диалога